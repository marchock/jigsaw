<!DOCTYPE html>
<html>

	<head>
	<meta charset="UTF-8">
	<title>JIGSAW</title>

	<link href="css/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
	<link href="css/print.css" media="print" rel="stylesheet" type="text/css" />
	<link href="css/app.css" rel="stylesheet" type="text/css" />
	<!--[if IE]>
	  <link href="/stylesheets/ie.css" media="screen, projection" rel="stylesheet" type="text/css" />
	<![endif]-->


	</head>

	<script>

	function setup() {

		var pw = 1400;


		var tile = {
			w: 200,
			h: 200
		}



	};

	function tile (w, h) {
		return {
			w: w,
			h: h,
			x: 0,
			y: 0,
			className: "box-" + w + "-" + h
		}
	}



var tiles = [];

	window.onload = function () {
        var numOfImages = 20;
        var pw = 1420;
        var cols = Math.round(pw / 200);
        var numOfTiles = 0;
        var rows = 0




		var i = 0;
		var numOfGridBlocks
		
		

        var x, y; 

        for (i=0; i < numOfImages; i += 1) {
            x = getNum();
            y = getNum();
            tiles[i] = tile(x, y);

            numOfTiles += (x * y)
        }

        rows = Math.round(numOfTiles / cols);



        console.log("COLS", cols, 
                    "ROWS: ", rows, 
                    "NUM OF TILES", numOfTiles)



        var grid  = [];
		for (i=0; i < rows; i += 1) {
			grid[i] = setArrayLength(cols)
		}

        
        var acC = 0,
        	acR = 0,
        	tc = 0,
        	addTile;


        /*
		 * Set-up grid array
         */
        for (i=0; i < numOfTiles; i += 1) {
            

        	if (!grid[acR][acC]) {

				console.log("COUNTER:", acR, acC)
				addTile = true;


        		
        		// tile width 
        		if (tiles[tc].w === 2) {
        			if (!grid[acR][acC+1] && (acC+1) < cols) {
						grid[acR][acC+1] = 1;
        			} else {
        				addTile = false;
        			}
        			
        		}

        		// tile height 
        		if (tiles[tc].h === 2) {
        			if (!grid[acR+1][acC]) {
						grid[acR+1][acC] = 1;
        			} else {
        				addTile = false;
        			}
        		}


        		// tile width & height
        		if (tiles[tc].h === 2 && tiles[tc].w === 2) {

        			if (!grid[acR+1][acC+1]) {
						grid[acR+1][acC+1] = 1;
        			} else {
        				addTile = false;
        			}
        		}



        		if (addTile) {
	        		if (tiles[tc].className) {
	        			createTile(tiles[tc].className, acC, acR);
	        			tc += 1;
	        		}
        		}




        		tc += 1;
        		grid[acR][acC] = 1;
        	}







			if (acC < cols-1) {
				acC += 1;

			} else {
				acC = 0;
				acR += 1;
			}
        }

        console.log(grid)
	}


    function setArrayLength (c) {
        var a = [];
        for (i=0; i < c; i += 1) {
            a[i] = 0;
        }
         return a
    }



	function getNum () {
		return Math.floor((Math.random()*2)+1);
	}



	function createTile (cn, l, t) {
		var c = document.querySelector(".container");
		var e = document.createElement("div");

		e.setAttribute("class", cn);
		e.setAttribute("style", "top: " + (t*200) + "px; left: " + (l*200) + "px;");
		c.appendChild(e);
	};



	</script>

	<body>
		<div class="container">

<!-- 			<div class="box-1-1"></div>
			<div class="box-1-2"></div>
			<div class="box-2-2"></div>
			<div class="box-2-1"></div>
			<div class="box-1-1"></div>
			<div class="box-2-1"></div>
			<div class="box-1-1"></div> -->


		</div>
	</body>

</html>
